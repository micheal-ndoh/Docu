(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[680],{285:(e,s,r)=>{"use strict";r.d(s,{$:()=>d,r:()=>l});var t=r(5155),a=r(2115),i=r(9708),n=r(2085),o=r(9434);let l=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=a.forwardRef((e,s)=>{let{className:r,variant:a,size:n,asChild:d=!1,...c}=e,u=d?i.DX:"button";return(0,t.jsx)(u,{className:(0,o.cn)(l({variant:a,size:n,className:r})),ref:s,...c})});d.displayName="Button"},343:(e,s,r)=>{"use strict";r.d(s,{Sd:()=>n,aE:()=>i});var t=r(5595);let a=t.YjP().min(8,"Password must be at least 8 characters long").regex(/[A-Z]/,"Password must contain at least one uppercase letter").regex(/[a-z]/,"Password must contain at least one lowercase letter").regex(/\d/,"Password must contain at least one number").regex(/[!@#$%^&*]/,"Password must contain at least one special character (!@#$%^&*)"),i=t.Ikc({email:t.YjP().email("Please enter a valid email address"),password:t.YjP().min(1,"Password is required")}),n=t.Ikc({email:t.YjP().email("Please enter a valid email address"),password:a})},862:(e,s,r)=>{Promise.resolve().then(r.bind(r,3738))},2523:(e,s,r)=>{"use strict";r.d(s,{p:()=>l});var t=r(5155),a=r(2115),i=r(8749),n=r(2657),o=r(9434);let l=a.forwardRef((e,s)=>{let{className:r,type:l,...d}=e,[c,u]=a.useState(!1);return"password"!==l?(0,t.jsx)("input",{type:l,className:(0,o.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),ref:s,...d}):(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("input",{type:c?"text":"password",className:(0,o.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),ref:s,...d}),(0,t.jsx)("button",{type:"button",className:"absolute inset-y-0 right-0 flex items-center pr-3",onClick:()=>u(!c),children:c?(0,t.jsx)(i.A,{className:"h-5 w-5 text-muted-foreground"}):(0,t.jsx)(n.A,{className:"h-5 w-5 text-muted-foreground"})})]})});l.displayName="Input"},3738:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>m});var t=r(5155),a=r(7297),i=r(285),n=r(2523),o=r(5057),l=r(2115),d=r(2177),c=r(221),u=r(343);function m(){let[e,s]=(0,l.useState)(""),[r,m]=(0,l.useState)(0),{register:g,handleSubmit:f,formState:{errors:p,isSubmitting:x}}=(0,d.mN)({resolver:(0,c.u)(u.aE)}),b=async e=>{if(s(""),r>=5){s("Too many failed attempts. Please wait a few minutes before trying again.");return}try{console.log("Attempting sign in with:",{email:e.email,password:"***"});let s=await a.Jv.email({email:e.email,password:e.password});console.log("Sign in result:",s),m(0),window.location.href="/"}catch(a){m(e=>e+1),console.log("Sign in error caught:",a),console.log("Error type:",typeof a),console.log("Error keys:",Object.keys(a)),console.log("Error message:",a.message),console.log("Error status:",a.status),console.log("Error code:",a.code);let e=(a.message||"").toLowerCase(),r=a.status||a.code;console.log("Processing error:",{errorMessage:e,errorCode:r});let t="";console.log("Setting error to:",t=401===r?e.includes("user not found")?"No account found with this email address. Please sign up first.":e.includes("invalid password")||e.includes("invalid")||e.includes("wrong")||e.includes("incorrect")?"Incorrect password. Please try again.":"Sign in failed. Please check your credentials and try again.":e.includes("rate limit")||e.includes("too many")||e.includes("attempt")?"Too many attempts. Please wait before trying again.":e.includes("email not verified")?"Please verify your email address before signing in.":a.message||"Sign in failed. Please try again."),s(t)}},h=async()=>{try{await a.Jv.social({provider:"google"})}catch(e){s(e.message||"Google sign-in failed")}};return(0,t.jsx)("div",{className:"flex min-h-screen items-center justify-center bg-gray-100 dark:bg-gray-900",children:(0,t.jsxs)("div",{className:"w-full max-w-md rounded-lg bg-white p-8 shadow-md dark:bg-gray-800",children:[(0,t.jsx)("h2",{className:"mb-6 text-center text-2xl font-bold text-gray-900 dark:text-white",children:"Sign In"}),e&&(0,t.jsx)("p",{className:"mb-4 text-center text-red-500",children:e}),(0,t.jsxs)("form",{onSubmit:f(b),className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(o.J,{htmlFor:"email",children:"Email"}),(0,t.jsx)(n.p,{id:"email",type:"email",placeholder:"Enter your email",...g("email")}),p.email&&(0,t.jsx)("p",{className:"text-sm text-red-500 mt-1",children:p.email.message})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(o.J,{htmlFor:"password",children:"Password"}),(0,t.jsx)(n.p,{id:"password",type:"password",...g("password")}),p.password&&(0,t.jsx)("p",{className:"text-sm text-red-500 mt-1",children:p.password.message})]}),(0,t.jsx)(i.$,{type:"submit",className:"w-full",disabled:x,children:x?"Signing In...":"Sign In with Email"})]}),(0,t.jsxs)("div",{className:"relative my-6",children:[(0,t.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,t.jsx)("span",{className:"w-full border-t"})}),(0,t.jsx)("div",{className:"relative flex justify-center text-xs uppercase",children:(0,t.jsx)("span",{className:"bg-white px-2 text-gray-500 dark:bg-gray-800 dark:text-gray-400",children:"Or continue with"})})]}),(0,t.jsx)("div",{className:"space-y-2",children:(0,t.jsx)(i.$,{variant:"outline",className:"w-full",onClick:h,children:"Sign In with Google"})})]})})}},5057:(e,s,r)=>{"use strict";r.d(s,{J:()=>d});var t=r(5155),a=r(2115),i=r(968),n=r(2085),o=r(9434);let l=(0,n.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=a.forwardRef((e,s)=>{let{className:r,...a}=e;return(0,t.jsx)(i.b,{ref:s,className:(0,o.cn)(l(),r),...a})});d.displayName=i.b.displayName},7297:(e,s,r)=>{"use strict";r.d(s,{CI:()=>i,Hh:()=>a,Jv:()=>t,wV:()=>n});let{signIn:t,signUp:a,signOut:i,useSession:n}=(0,r(4852).MB)({baseURL:"http://localhost:3000"})},9434:(e,s,r)=>{"use strict";r.d(s,{cn:()=>i});var t=r(2596),a=r(9688);function i(){for(var e=arguments.length,s=Array(e),r=0;r<e;r++)s[r]=arguments[r];return(0,a.QP)((0,t.$)(s))}}},e=>{var s=s=>e(e.s=s);e.O(0,[455,12,852,135,441,684,358],()=>s(862)),_N_E=e.O()}]);