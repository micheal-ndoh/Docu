(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[778],{285:(e,s,t)=>{"use strict";t.d(s,{$:()=>d,r:()=>o});var a=t(5155),r=t(2115),i=t(9708),n=t(2085),l=t(9434);let o=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=r.forwardRef((e,s)=>{let{className:t,variant:r,size:n,asChild:d=!1,...c}=e,u=d?i.DX:"button";return(0,a.jsx)(u,{className:(0,l.cn)(o({variant:r,size:n,className:t})),ref:s,...c})});d.displayName="Button"},343:(e,s,t)=>{"use strict";t.d(s,{Sd:()=>n,aE:()=>i});var a=t(5595);let r=a.YjP().min(8,"Password must be at least 8 characters long").regex(/[A-Z]/,"Password must contain at least one uppercase letter").regex(/[a-z]/,"Password must contain at least one lowercase letter").regex(/\d/,"Password must contain at least one number").regex(/[!@#$%^&*]/,"Password must contain at least one special character (!@#$%^&*)"),i=a.Ikc({email:a.YjP().email("Please enter a valid email address"),password:a.YjP().min(1,"Password is required")}),n=a.Ikc({email:a.YjP().email("Please enter a valid email address"),password:r})},2523:(e,s,t)=>{"use strict";t.d(s,{p:()=>o});var a=t(5155),r=t(2115),i=t(8749),n=t(2657),l=t(9434);let o=r.forwardRef((e,s)=>{let{className:t,type:o,...d}=e,[c,u]=r.useState(!1);return"password"!==o?(0,a.jsx)("input",{type:o,className:(0,l.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:s,...d}):(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("input",{type:c?"text":"password",className:(0,l.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:s,...d}),(0,a.jsx)("button",{type:"button",className:"absolute inset-y-0 right-0 flex items-center pr-3",onClick:()=>u(!c),children:c?(0,a.jsx)(i.A,{className:"h-5 w-5 text-muted-foreground"}):(0,a.jsx)(n.A,{className:"h-5 w-5 text-muted-foreground"})})]})});o.displayName="Input"},4820:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>f});var a=t(5155),r=t(7297),i=t(285),n=t(2523),l=t(5057),o=t(2115),d=t(5695),c=t(2177),u=t(221),m=t(343);function f(){let[e,s]=(0,o.useState)(""),[t,f]=(0,o.useState)(0),p=(0,d.useRouter)(),{register:g,handleSubmit:x,watch:b,formState:{errors:h,isSubmitting:v}}=(0,c.mN)({resolver:(0,u.u)(m.Sd)});b("password");let w=async e=>{if(s(""),t>=5){s("Too many failed attempts. Please wait a few minutes before trying again.");return}try{await r.Hh.email({email:e.email,password:e.password,name:e.email.split("@")[0]}),f(0),await r.Jv.email({email:e.email,password:e.password}),p.push("/")}catch(i){var a;f(e=>e+1),console.log("Sign up error:",i);let t=(null===(a=i.message)||void 0===a?void 0:a.toLowerCase())||"";if(422===(i.status||i.code)||t.includes("already exists")||t.includes("duplicate")||t.includes("unique constraint")){s("An account with this email already exists. Please sign in instead.");try{await r.Jv.email({email:e.email,password:e.password}),p.push("/")}catch(e){}}else t.includes("rate limit")||t.includes("too many")||t.includes("attempt")?s("Too many attempts. Please wait before trying again."):t.includes("password")&&t.includes("weak")?s("Password is too weak. Please choose a stronger password."):t.includes("email")&&t.includes("invalid")?s("Please enter a valid email address."):s(i.message||"Failed to sign up.")}},y=async()=>{try{await r.Jv.social({provider:"google"})}catch(e){s(e.message||"Google sign-in failed")}};return(0,a.jsx)("div",{className:"flex min-h-screen items-center justify-center bg-gray-100 dark:bg-gray-900",children:(0,a.jsxs)("div",{className:"w-full max-w-md rounded-lg bg-white p-8 shadow-md dark:bg-gray-800",children:[(0,a.jsx)("h2",{className:"mb-6 text-center text-2xl font-bold text-gray-900 dark:text-white",children:"Sign Up"}),e&&(0,a.jsx)("p",{className:"mb-4 text-center text-red-500",children:e}),(0,a.jsxs)("form",{onSubmit:x(w),className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(l.J,{htmlFor:"email",children:"Email"}),(0,a.jsx)(n.p,{id:"email",type:"email",placeholder:"Enter your email",...g("email")}),h.email&&(0,a.jsx)("p",{className:"text-sm text-red-500 mt-1",children:h.email.message})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(l.J,{htmlFor:"password",children:"Password"}),(0,a.jsx)(n.p,{id:"password",type:"password",...g("password")}),h.password&&(0,a.jsx)("p",{className:"text-sm text-red-500 mt-1",children:h.password.message})]}),(0,a.jsx)(i.$,{type:"submit",className:"w-full",disabled:v,children:v?"Signing Up...":"Sign Up with Email"})]}),(0,a.jsxs)("div",{className:"relative my-6",children:[(0,a.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,a.jsx)("span",{className:"w-full border-t"})}),(0,a.jsx)("div",{className:"relative flex justify-center text-xs uppercase",children:(0,a.jsx)("span",{className:"bg-white px-2 text-gray-500 dark:bg-gray-800 dark:text-gray-400",children:"Or continue with"})})]}),(0,a.jsx)("div",{className:"space-y-2",children:(0,a.jsx)(i.$,{variant:"outline",className:"w-full",onClick:y,children:"Sign Up with Google"})})]})})}},5057:(e,s,t)=>{"use strict";t.d(s,{J:()=>d});var a=t(5155),r=t(2115),i=t(968),n=t(2085),l=t(9434);let o=(0,n.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(i.b,{ref:s,className:(0,l.cn)(o(),t),...r})});d.displayName=i.b.displayName},5695:(e,s,t)=>{"use strict";var a=t(8999);t.o(a,"useParams")&&t.d(s,{useParams:function(){return a.useParams}}),t.o(a,"useRouter")&&t.d(s,{useRouter:function(){return a.useRouter}})},7297:(e,s,t)=>{"use strict";t.d(s,{CI:()=>i,Hh:()=>r,Jv:()=>a,wV:()=>n});let{signIn:a,signUp:r,signOut:i,useSession:n}=(0,t(4852).MB)({baseURL:"http://localhost:3000"})},8044:(e,s,t)=>{Promise.resolve().then(t.bind(t,4820))},9434:(e,s,t)=>{"use strict";t.d(s,{cn:()=>i});var a=t(2596),r=t(9688);function i(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return(0,r.QP)((0,a.$)(s))}}},e=>{var s=s=>e(e.s=s);e.O(0,[455,12,852,135,441,684,358],()=>s(8044)),_N_E=e.O()}]);