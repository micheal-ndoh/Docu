(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[814],{10:(e,t,a)=>{"use strict";a.d(t,{$v:()=>h,EO:()=>x,Lt:()=>i,Rx:()=>g,Zr:()=>b,ck:()=>f,r7:()=>p,tv:()=>o,wd:()=>u});var s=a(5155),r=a(2115),l=a(7649),d=a(9434),n=a(285);let i=l.bL,o=l.l9,c=l.ZL,m=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(l.hJ,{className:(0,d.cn)("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...r,ref:t})});m.displayName=l.hJ.displayName;let x=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsxs)(c,{children:[(0,s.jsx)(m,{}),(0,s.jsx)(l.UC,{ref:t,className:(0,d.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg md:w-full",a),...r})]})});x.displayName=l.UC.displayName;let u=e=>{let{className:t,...a}=e;return(0,s.jsx)("div",{className:(0,d.cn)("flex flex-col space-y-2 text-center sm:text-left",t),...a})};u.displayName="AlertDialogHeader";let f=e=>{let{className:t,...a}=e;return(0,s.jsx)("div",{className:(0,d.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...a})};f.displayName="AlertDialogFooter";let p=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(l.hE,{ref:t,className:(0,d.cn)("text-lg font-semibold",a),...r})});p.displayName=l.hE.displayName;let h=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(l.VY,{ref:t,className:(0,d.cn)("text-sm text-muted-foreground",a),...r})});h.displayName=l.VY.displayName;let g=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(l.rc,{ref:t,className:(0,d.cn)((0,n.r)(),a),...r})});g.displayName=l.rc.displayName;let b=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(l.ZD,{ref:t,className:(0,d.cn)((0,n.r)({variant:"outline"}),"mt-2 sm:mt-0",a),...r})});b.displayName=l.ZD.displayName},2523:(e,t,a)=>{"use strict";a.d(t,{p:()=>i});var s=a(5155),r=a(2115),l=a(8749),d=a(2657),n=a(9434);let i=r.forwardRef((e,t)=>{let{className:a,type:i,...o}=e,[c,m]=r.useState(!1);return"password"!==i?(0,s.jsx)("input",{type:i,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:t,...o}):(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("input",{type:c?"text":"password",className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:t,...o}),(0,s.jsx)("button",{type:"button",className:"absolute inset-y-0 right-0 flex items-center pr-3",onClick:()=>m(!c),children:c?(0,s.jsx)(l.A,{className:"h-5 w-5 text-muted-foreground"}):(0,s.jsx)(d.A,{className:"h-5 w-5 text-muted-foreground"})})]})});i.displayName="Input"},3717:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(9946).A)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},3786:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(9946).A)("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]])},4165:(e,t,a)=>{"use strict";a.d(t,{Cf:()=>x,L3:()=>f,c7:()=>u,lG:()=>i,zM:()=>o});var s=a(5155),r=a(2115),l=a(5452),d=a(4416),n=a(9434);let i=l.bL,o=l.l9,c=l.ZL;l.bm;let m=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(l.hJ,{ref:t,className:(0,n.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...r})});m.displayName=l.hJ.displayName;let x=r.forwardRef((e,t)=>{let{className:a,children:r,...i}=e;return(0,s.jsxs)(c,{children:[(0,s.jsx)(m,{}),(0,s.jsxs)(l.UC,{ref:t,className:(0,n.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...i,children:[r,(0,s.jsxs)(l.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,s.jsx)(d.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});x.displayName=l.UC.displayName;let u=e=>{let{className:t,...a}=e;return(0,s.jsx)("div",{className:(0,n.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...a})};u.displayName="DialogHeader";let f=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(l.hE,{ref:t,className:(0,n.cn)("text-lg font-semibold leading-none tracking-tight",a),...r})});f.displayName=l.hE.displayName,r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(l.VY,{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",a),...r})}).displayName=l.VY.displayName},5057:(e,t,a)=>{"use strict";a.d(t,{J:()=>o});var s=a(5155),r=a(2115),l=a(968),d=a(2085),n=a(9434);let i=(0,d.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(l.b,{ref:t,className:(0,n.cn)(i(),a),...r})});o.displayName=l.b.displayName},6126:(e,t,a)=>{"use strict";a.d(t,{E:()=>n});var s=a(5155);a(2115);var r=a(2085),l=a(9434);let d=(0,r.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",blue:"border-transparent bg-blue-500 text-white hover:bg-blue-500/80",green:"border-transparent bg-green-500 text-white hover:bg-green-500/80",yellow:"border-transparent bg-yellow-500 text-white hover:bg-yellow-500/80"}},defaultVariants:{variant:"default"}});function n(e){let{className:t,variant:a,...r}=e;return(0,s.jsx)("div",{className:(0,l.cn)(d({variant:a}),t),...r})}},6608:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>R});var s=a(5155),r=a(2115),l=a(6874),d=a.n(l),n=a(285),i=a(5127),o=a(4165),c=a(10),m=a(2523),x=a(5057),u=a(6126),f=a(2177),p=a(6671),h=a(4541),g=a(4783),b=a(7434),j=a(9103),y=a(1154),N=a(7924),v=a(6932),w=a(3717),k=a(3786),A=a(2525),C=a(6695),E=a(1459);function R(){let[e,t]=(0,r.useState)([]),[a,l]=(0,r.useState)(!0),[R,z]=(0,r.useState)(!1),[D,S]=(0,r.useState)(""),[T,L]=(0,r.useState)("all"),{register:M,handleSubmit:F,reset:q,formState:{errors:H}}=(0,f.mN)();(0,r.useEffect)(()=>{Z()},[]);let Z=async()=>{l(!0);try{let e=await fetch("/api/docuseal/templates");if(!e.ok)throw Error("Failed to fetch templates");let a=await e.json();t(a.data)}catch(e){p.oR.error("Error fetching templates",{description:e.message})}finally{l(!1)}},V=async e=>{if(!e.file||0===e.file.length){p.oR.error("Please select a file to upload.");return}let a=new FormData;a.append("name",e.name),a.append("file",e.file[0]),z(!0);try{let e=await fetch("/api/docuseal/templates",{method:"POST",headers:{},body:a});if(!e.ok)throw Error("Failed to create template");let s=await e.json();t(e=>[s,...e]),p.oR.success("Template created successfully!"),q()}catch(e){p.oR.error("Error creating template",{description:e.message})}finally{z(!1)}},J=async a=>{t(e=>e.filter(e=>e.id!==a)),p.oR.loading("Deleting template...",{id:"delete-template"});try{if(!(await fetch("/api/docuseal/templates/".concat(a),{method:"DELETE"})).ok)throw Error("Failed to delete template");p.oR.success("Template deleted successfully!",{id:"delete-template"})}catch(a){p.oR.error("Error deleting template",{description:a.message,id:"delete-template"}),t(e)}},$=e.filter(e=>{let t=e.name.toLowerCase().includes(D.toLowerCase()),a="all"===T||e.status===T;return t&&a});return a?(0,s.jsx)(E.Fn,{}):(0,s.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,s.jsx)("div",{className:"sticky top-16 z-40 w-full bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 border-b border-border/40",children:(0,s.jsx)("div",{className:"container mx-auto px-4 py-4",children:(0,s.jsx)("div",{className:"flex items-center justify-between",children:(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,s.jsx)(d(),{href:"/",children:(0,s.jsx)("div",{className:"flex items-center space-x-2 rounded-lg px-3 py-2 bg-white border border-gray-200 text-gray-600 hover:bg-gray-50 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-300 dark:hover:bg-gray-700 cursor-pointer transition-colors",children:(0,s.jsx)(h.A,{className:"h-4 w-4"})})}),(0,s.jsx)(d(),{href:"/submissions",children:(0,s.jsx)("div",{className:"flex items-center space-x-2 rounded-lg px-3 py-2 bg-white border border-gray-200 text-gray-600 hover:bg-gray-50 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-300 dark:hover:bg-gray-700 cursor-pointer transition-colors",children:(0,s.jsx)(g.A,{className:"h-4 w-4"})})}),(0,s.jsxs)("div",{className:"flex items-center space-x-2 rounded-lg px-3 py-2 bg-black text-white dark:bg-white dark:text-black",children:[(0,s.jsx)(b.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"text-xs font-medium",children:$.length})]})]}),(0,s.jsx)("h1",{className:"text-2xl font-bold",children:"Templates"})]})})})}),(0,s.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,s.jsx)("div",{className:"mb-8",children:(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Templates"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"Create and manage document templates for your organization."})]}),(0,s.jsxs)(o.lG,{children:[(0,s.jsx)(o.zM,{asChild:!0,children:(0,s.jsxs)(n.$,{className:"w-full sm:w-auto",children:[(0,s.jsx)(j.A,{className:"mr-2 h-4 w-4"})," Create Template"]})}),(0,s.jsxs)(o.Cf,{children:[(0,s.jsx)(o.c7,{children:(0,s.jsx)(o.L3,{children:"Create New Template"})}),(0,s.jsxs)("form",{onSubmit:F(V),className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(x.J,{htmlFor:"name",children:"Template Name"}),(0,s.jsx)(m.p,{id:"name",...M("name",{required:"Template name is required."}),disabled:R}),H.name&&(0,s.jsx)("p",{className:"text-red-500 text-sm",children:H.name.message})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(x.J,{htmlFor:"file",children:"Document"}),(0,s.jsx)(m.p,{id:"file",type:"file",...M("file",{required:"A file is required."}),disabled:R,accept:".pdf,.docx,.xlsx,.jpeg,.png,.zip,.html"}),H.file&&(0,s.jsx)("p",{className:"text-red-500 text-sm",children:H.file.message})]}),(0,s.jsxs)(n.$,{type:"submit",disabled:R,children:[R&&(0,s.jsx)(y.A,{className:"mr-2 h-4 w-4 animate-spin"}),"Create"]})]})]})]})]})}),(0,s.jsx)(C.Zp,{className:"mb-6",children:(0,s.jsx)(C.Wu,{className:"pt-6",children:(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,s.jsxs)("div",{className:"relative flex-1",children:[(0,s.jsx)(N.A,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),(0,s.jsx)(m.p,{placeholder:"Search templates...",value:D,onChange:e=>S(e.target.value),className:"pl-10"})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(v.A,{className:"h-4 w-4 text-muted-foreground"}),(0,s.jsxs)("select",{value:T,onChange:e=>L(e.target.value),className:"rounded-md border border-input bg-background px-3 py-2 text-sm",children:[(0,s.jsx)("option",{value:"all",children:"All Status"}),(0,s.jsx)("option",{value:"draft",children:"Draft"}),(0,s.jsx)("option",{value:"published",children:"Published"})]})]})]})})}),0===$.length?(0,s.jsx)(C.Zp,{children:(0,s.jsxs)(C.Wu,{className:"flex flex-col items-center justify-center py-12",children:[(0,s.jsx)(b.A,{className:"h-12 w-12 text-muted-foreground mb-4"}),(0,s.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"No templates found"}),(0,s.jsx)("p",{className:"text-muted-foreground text-center mb-4",children:0===e.length?"Get started by creating your first template.":"Try adjusting your search or filter criteria."})]})}):(0,s.jsx)(C.Zp,{children:(0,s.jsx)(C.Wu,{className:"p-0",children:(0,s.jsxs)(i.XI,{children:[(0,s.jsx)(i.A0,{children:(0,s.jsxs)(i.Hj,{children:[(0,s.jsx)(i.nd,{className:"w-[40%]",children:"Name"}),(0,s.jsx)(i.nd,{className:"w-[15%]",children:"Status"}),(0,s.jsx)(i.nd,{className:"w-[20%]",children:"Created"}),(0,s.jsx)(i.nd,{className:"w-[25%] text-right",children:"Actions"})]})}),(0,s.jsx)(i.BF,{children:$.map(e=>(0,s.jsxs)(i.Hj,{className:"hover:bg-muted/50",children:[(0,s.jsx)(i.nA,{children:(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-blue-50 dark:bg-blue-950/50",children:(0,s.jsx)(b.A,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"font-medium",children:e.name}),(0,s.jsxs)("div",{className:"text-sm text-muted-foreground",children:["ID: ",e.id]})]})]})}),(0,s.jsx)(i.nA,{children:(0,s.jsx)(u.E,{variant:"published"===e.status?"default":"secondary",className:"published"===e.status?"bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-400":"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-300",children:e.status})}),(0,s.jsx)(i.nA,{className:"text-muted-foreground",children:new Date(e.created_at).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}),(0,s.jsx)(i.nA,{children:(0,s.jsxs)("div",{className:"flex items-center justify-end space-x-2",children:[(0,s.jsx)(d(),{href:"/templates/".concat(e.id,"/edit"),children:(0,s.jsxs)(n.$,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:[(0,s.jsx)(w.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Edit template"})]})}),(0,s.jsx)(d(),{href:"/templates/".concat(e.id),children:(0,s.jsxs)(n.$,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:[(0,s.jsx)(k.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"View template"})]})}),(0,s.jsxs)(c.Lt,{children:[(0,s.jsx)(c.tv,{asChild:!0,children:(0,s.jsxs)(n.$,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-red-600 hover:text-red-700 hover:bg-red-50 dark:text-red-400 dark:hover:bg-red-950/50",children:[(0,s.jsx)(A.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Delete template"})]})}),(0,s.jsxs)(c.EO,{children:[(0,s.jsxs)(c.wd,{children:[(0,s.jsx)(c.r7,{children:"Are you absolutely sure?"}),(0,s.jsx)(c.$v,{children:"This action cannot be undone. This will permanently delete your template and remove all associated data from our servers."})]}),(0,s.jsxs)(c.ck,{children:[(0,s.jsx)(c.Zr,{children:"Cancel"}),(0,s.jsx)(c.Rx,{onClick:()=>J(e.id),className:"bg-red-600 hover:bg-red-700 text-white",children:"Delete"})]})]})]})]})})]},e.id))})]})})})]})]})}},7434:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(9946).A)("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},9002:(e,t,a)=>{Promise.resolve().then(a.bind(a,6608))}},e=>{var t=t=>e(e.s=t);e.O(0,[455,671,874,12,890,675,211,441,684,358],()=>t(9002)),_N_E=e.O()}]);