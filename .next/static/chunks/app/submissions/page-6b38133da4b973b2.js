(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[100],{10:(e,s,t)=>{"use strict";t.d(s,{$v:()=>h,EO:()=>u,Lt:()=>d,Rx:()=>b,Zr:()=>g,ck:()=>f,r7:()=>p,tv:()=>o,wd:()=>x});var a=t(5155),r=t(2115),l=t(7649),i=t(9434),n=t(285);let d=l.bL,o=l.l9,c=l.ZL,m=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(l.hJ,{className:(0,i.cn)("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...r,ref:s})});m.displayName=l.hJ.displayName;let u=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsxs)(c,{children:[(0,a.jsx)(m,{}),(0,a.jsx)(l.UC,{ref:s,className:(0,i.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg md:w-full",t),...r})]})});u.displayName=l.UC.displayName;let x=e=>{let{className:s,...t}=e;return(0,a.jsx)("div",{className:(0,i.cn)("flex flex-col space-y-2 text-center sm:text-left",s),...t})};x.displayName="AlertDialogHeader";let f=e=>{let{className:s,...t}=e;return(0,a.jsx)("div",{className:(0,i.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s),...t})};f.displayName="AlertDialogFooter";let p=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(l.hE,{ref:s,className:(0,i.cn)("text-lg font-semibold",t),...r})});p.displayName=l.hE.displayName;let h=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(l.VY,{ref:s,className:(0,i.cn)("text-sm text-muted-foreground",t),...r})});h.displayName=l.VY.displayName;let b=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(l.rc,{ref:s,className:(0,i.cn)((0,n.r)(),t),...r})});b.displayName=l.rc.displayName;let g=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(l.ZD,{ref:s,className:(0,i.cn)((0,n.r)({variant:"outline"}),"mt-2 sm:mt-0",t),...r})});g.displayName=l.ZD.displayName},2523:(e,s,t)=>{"use strict";t.d(s,{p:()=>d});var a=t(5155),r=t(2115),l=t(8749),i=t(2657),n=t(9434);let d=r.forwardRef((e,s)=>{let{className:t,type:d,...o}=e,[c,m]=r.useState(!1);return"password"!==d?(0,a.jsx)("input",{type:d,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:s,...o}):(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("input",{type:c?"text":"password",className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:s,...o}),(0,a.jsx)("button",{type:"button",className:"absolute inset-y-0 right-0 flex items-center pr-3",onClick:()=>m(!c),children:c?(0,a.jsx)(l.A,{className:"h-5 w-5 text-muted-foreground"}):(0,a.jsx)(i.A,{className:"h-5 w-5 text-muted-foreground"})})]})});d.displayName="Input"},4165:(e,s,t)=>{"use strict";t.d(s,{Cf:()=>u,L3:()=>f,c7:()=>x,lG:()=>d,zM:()=>o});var a=t(5155),r=t(2115),l=t(5452),i=t(4416),n=t(9434);let d=l.bL,o=l.l9,c=l.ZL;l.bm;let m=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(l.hJ,{ref:s,className:(0,n.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...r})});m.displayName=l.hJ.displayName;let u=r.forwardRef((e,s)=>{let{className:t,children:r,...d}=e;return(0,a.jsxs)(c,{children:[(0,a.jsx)(m,{}),(0,a.jsxs)(l.UC,{ref:s,className:(0,n.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...d,children:[r,(0,a.jsxs)(l.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,a.jsx)(i.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});u.displayName=l.UC.displayName;let x=e=>{let{className:s,...t}=e;return(0,a.jsx)("div",{className:(0,n.cn)("flex flex-col space-y-1.5 text-center sm:text-left",s),...t})};x.displayName="DialogHeader";let f=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(l.hE,{ref:s,className:(0,n.cn)("text-lg font-semibold leading-none tracking-tight",t),...r})});f.displayName=l.hE.displayName,r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(l.VY,{ref:s,className:(0,n.cn)("text-sm text-muted-foreground",t),...r})}).displayName=l.VY.displayName},5057:(e,s,t)=>{"use strict";t.d(s,{J:()=>o});var a=t(5155),r=t(2115),l=t(968),i=t(2085),n=t(9434);let d=(0,i.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(l.b,{ref:s,className:(0,n.cn)(d(),t),...r})});o.displayName=l.b.displayName},6126:(e,s,t)=>{"use strict";t.d(s,{E:()=>n});var a=t(5155);t(2115);var r=t(2085),l=t(9434);let i=(0,r.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",blue:"border-transparent bg-blue-500 text-white hover:bg-blue-500/80",green:"border-transparent bg-green-500 text-white hover:bg-green-500/80",yellow:"border-transparent bg-yellow-500 text-white hover:bg-yellow-500/80"}},defaultVariants:{variant:"default"}});function n(e){let{className:s,variant:t,...r}=e;return(0,a.jsx)("div",{className:(0,l.cn)(i({variant:t}),s),...r})}},7182:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>G});var a=t(5155),r=t(2115),l=t(6874),i=t.n(l),n=t(5695),d=t(285),o=t(5127),c=t(4165),m=t(10),u=t(2523),x=t(5057),f=t(8893),p=t(6474),h=t(7863),b=t(5196),g=t(9434);let j=f.bL;f.YJ;let N=f.WT,y=r.forwardRef((e,s)=>{let{className:t,children:r,...l}=e;return(0,a.jsxs)(f.l9,{ref:s,className:(0,g.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...l,children:[r,(0,a.jsx)(f.In,{asChild:!0,children:(0,a.jsx)(p.A,{className:"h-4 w-4 opacity-50"})})]})});y.displayName=f.l9.displayName;let v=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(f.PP,{ref:s,className:(0,g.cn)("flex cursor-default items-center justify-center py-1",t),...r,children:(0,a.jsx)(h.A,{className:"h-4 w-4"})})});v.displayName=f.PP.displayName;let w=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(f.wn,{ref:s,className:(0,g.cn)("flex cursor-default items-center justify-center py-1",t),...r,children:(0,a.jsx)(p.A,{className:"h-4 w-4"})})});w.displayName=f.wn.displayName;let k=r.forwardRef((e,s)=>{let{className:t,children:r,position:l="popper",...i}=e;return(0,a.jsx)(f.ZL,{children:(0,a.jsxs)(f.UC,{ref:s,className:(0,g.cn)("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]","popper"===l&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:l,...i,children:[(0,a.jsx)(v,{}),(0,a.jsx)(f.LM,{className:(0,g.cn)("p-1","popper"===l&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),(0,a.jsx)(w,{})]})})});k.displayName=f.UC.displayName,r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(f.JU,{ref:s,className:(0,g.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...r})}).displayName=f.JU.displayName;let A=r.forwardRef((e,s)=>{let{className:t,children:r,...l}=e;return(0,a.jsxs)(f.q7,{ref:s,className:(0,g.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...l,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(f.VF,{children:(0,a.jsx)(b.A,{className:"h-4 w-4"})})}),(0,a.jsx)(f.p4,{children:r})]})});A.displayName=f.q7.displayName,r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(f.wv,{ref:s,className:(0,g.cn)("-mx-1 my-1 h-px bg-muted",t),...r})}).displayName=f.wv.displayName;var E=t(2177),C=t(6671),R=t(4541),S=t(4783),L=t(1154),D=t(9869),z=t(9103),T=t(7924),_=t(6932),P=t(2486),O=t(1007),U=t(9074),F=t(4357),J=t(1788),$=t(2657),I=t(2525),V=t(6126),Z=t(6695),Y=t(1459);function G(){let e=(0,n.useRouter)(),s=(0,r.useRef)(null),[t,l]=(0,r.useState)([]),[f,p]=(0,r.useState)([]),[h,b]=(0,r.useState)(!0),[g,v]=(0,r.useState)(!1),[w,G]=(0,r.useState)(!1),[M,W]=(0,r.useState)("ALL"),[H,q]=(0,r.useState)(""),{register:X,handleSubmit:B,reset:K,control:Q,setValue:ee}=(0,E.mN)({defaultValues:{submitters:[{email:"",name:"",role:""}],send_email:!1}}),{fields:es,append:et,remove:ea}=(0,E.jz)({control:Q,name:"submitters"}),er=(0,r.useCallback)(async()=>{b(!0);try{let e=await fetch("/api/docuseal/submissions?status=".concat("ALL"===M?"":M));if(!e.ok)throw Error("Failed to fetch submissions");let s=await e.json(),t=[];t=Array.isArray(s)?s:Array.isArray(null==s?void 0:s.data)?s.data:Array.isArray(null==s?void 0:s.items)?s.items:[],l(t)}catch(e){C.oR.error("Error fetching submissions",{description:e instanceof Error?e.message:"An unknown error occurred"})}finally{b(!1)}},[M]),el=(0,r.useCallback)(async()=>{try{let e=await fetch("/api/docuseal/templates");if(!e.ok)throw Error("Failed to fetch templates for form");let s=await e.json();p(s.data.map(e=>({id:e.id,name:e.name})))}catch(e){C.oR.error("Error fetching templates for form",{description:e instanceof Error?e.message:"An unknown error occurred"})}},[]);(0,r.useEffect)(()=>{er(),el()},[er,el]);let ei=async s=>{v(!0);try{var t;console.log("Submitting data:",s);let a={template_id:s.template_id,submitters:s.submitters,send_email:s.send_email};console.log("Payload to send:",a);let r=await fetch("/api/docuseal/submissions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!r.ok){let e=await r.json();console.error("API error:",e);let s="Failed to create submission.";throw(null==e?void 0:e.error)==="Template does not contain fields"?s="This template has no fields. Please edit the template to add signature fields before creating a submission.":(null==e?void 0:e.message)?s=e.message:"string"==typeof(null==e?void 0:e.error)&&(s=e.error),Error(s)}let l=await r.json();console.log("Response data:",l);let i=Array.isArray(l)?l:[l],n=null===(t=i[0])||void 0===t?void 0:t.submission_id;n?(C.oR.success("Submission created! Redirecting to signing page...",{description:"You can sign the document now or copy the link to share."}),setTimeout(()=>{e.push("/submissions/".concat(n,"/sign"))},500)):(C.oR.success("Submission created successfully!"),K(),await er())}catch(e){console.error("Submission error:",e),C.oR.error("Error creating submission",{description:e instanceof Error?e.message:"An unknown error occurred"})}finally{v(!1)}},en=async e=>{l(s=>s.filter(s=>s.id!==e)),C.oR.loading("Deleting submission...",{id:"delete-submission"});try{if(!(await fetch("/api/docuseal/submissions/".concat(e),{method:"DELETE"})).ok)throw Error("Failed to delete submission");C.oR.success("Submission deleted successfully!",{id:"delete-submission"})}catch(e){C.oR.error("Error deleting submission",{description:e instanceof Error?e.message:"An unknown error occurred",id:"delete-submission"}),l(t)}},ed=async t=>{var a;let r=null===(a=t.target.files)||void 0===a?void 0:a[0];if(!r)return;G(!0);let l=C.oR.loading("Uploading document and creating template...");try{let s=new FormData;s.append("file",r);let t=await fetch("/api/docuseal/templates/upload",{method:"POST",body:s});if(!t.ok){let e=await t.json();throw Error(e.message||"Upload failed")}let a=await t.json();C.oR.success("Template created successfully! Redirecting to editor...",{id:l}),e.push("/templates/".concat(a.id,"/edit"))}catch(s){let e=s instanceof Error?s.message:String(s);C.oR.error("Upload failed: ".concat(e),{id:l})}finally{G(!1),s.current&&(s.current.value="")}},eo=async e=>{C.oR.loading("Resending invite...",{id:"resend-".concat(e)});try{if(!(await fetch("/api/docuseal/submitters/".concat(e),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({send_email:!0})})).ok)throw Error("Failed to resend invite");C.oR.success("Invite resent",{id:"resend-".concat(e)})}catch(s){C.oR.error("Error resending invite",{id:"resend-".concat(e),description:s instanceof Error?s.message:String(s)})}},ec=e=>{switch(e.toUpperCase()){case"SENT":case"PENDING":return"bg-blue-100 text-blue-800 dark:bg-blue-900/50 dark:text-blue-400";case"DECLINED":return"bg-red-100 text-red-800 dark:bg-red-900/50 dark:text-red-400";case"COMPLETED":return"bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-400";case"OPENED":case"EXPIRED":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/50 dark:text-yellow-400";default:return"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-300"}},em=t.filter(e=>{let s=H.toLowerCase(),t=e.template.name.toLowerCase().includes(s)||e.submitters.some(e=>e.email.toLowerCase().includes(s)||e.name&&e.name.toLowerCase().includes(s)),a="ALL"===M||e.status.toUpperCase()===M;return t&&a});return h?(0,a.jsx)(Y.NW,{}):(0,a.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,a.jsx)("div",{className:"sticky top-16 z-40 w-full bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 border-b border-border/40",children:(0,a.jsx)("div",{className:"container mx-auto px-4 py-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,a.jsx)(i(),{href:"/",children:(0,a.jsx)("div",{className:"flex items-center space-x-2 rounded-lg px-3 py-2 bg-white border border-gray-200 text-gray-600 hover:bg-gray-50 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-300 dark:hover:bg-gray-700 cursor-pointer transition-colors",children:(0,a.jsx)(R.A,{className:"h-4 w-4"})})}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 rounded-lg px-3 py-2 bg-black text-white dark:bg-white dark:text-black",children:[(0,a.jsx)(S.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"text-xs font-medium",children:em.length})]})]}),(0,a.jsx)("h1",{className:"text-2xl font-bold",children:"Submissions"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("input",{type:"file",ref:s,onChange:ed,className:"hidden",accept:".pdf,.doc,.docx,.xls,.xlsx,.png,.jpg,.jpeg,.bmp"}),(0,a.jsxs)(d.$,{variant:"outline",size:"sm",onClick:()=>{var e;return null===(e=s.current)||void 0===e?void 0:e.click()},disabled:w,children:[w?(0,a.jsx)(L.A,{className:"mr-2 h-4 w-4 animate-spin"}):(0,a.jsx)(D.A,{className:"mr-2 h-4 w-4"}),w?"UPLOADING...":"UPLOAD"]})]})]})})}),(0,a.jsxs)("div",{className:"container mx-auto px-4 py-6",children:[(0,a.jsx)("div",{className:"mb-8",children:(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,a.jsx)("div",{children:(0,a.jsx)("p",{className:"text-muted-foreground",children:"Track and manage document submissions and signatures."})}),(0,a.jsxs)(c.lG,{children:[(0,a.jsx)(c.zM,{asChild:!0,children:(0,a.jsxs)(d.$,{className:"w-full sm:w-auto",children:[(0,a.jsx)(z.A,{className:"mr-2 h-4 w-4"})," Create Submission"]})}),(0,a.jsxs)(c.Cf,{className:"max-h-[80vh] overflow-y-auto",children:[(0,a.jsx)(c.c7,{children:(0,a.jsx)(c.L3,{children:"Create New Submission"})}),(0,a.jsxs)("form",{onSubmit:B(ei),className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(x.J,{htmlFor:"template_id",children:"Template"}),(0,a.jsxs)(j,{onValueChange:e=>{ee("template_id",Number(e))},children:[(0,a.jsx)(y,{children:(0,a.jsx)(N,{placeholder:"Select a template"})}),(0,a.jsx)(k,{children:f.map(e=>(0,a.jsx)(A,{value:String(e.id),children:e.name},e.id))})]}),(0,a.jsx)("input",{type:"hidden",...X("template_id",{valueAsNumber:!0})})]}),es.map((e,s)=>(0,a.jsxs)("div",{className:"space-y-2 rounded-md border p-4",children:[(0,a.jsxs)("h4",{className:"font-medium",children:["Submitter ",s+1]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(x.J,{htmlFor:"submitters.".concat(s,".email"),children:"Email"}),(0,a.jsx)(u.p,{id:"submitters.".concat(s,".email"),type:"email",...X("submitters.".concat(s,".email"),{required:!0}),disabled:g})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(x.J,{htmlFor:"submitters.".concat(s,".name"),children:"Name (Optional)"}),(0,a.jsx)(u.p,{id:"submitters.".concat(s,".name"),...X("submitters.".concat(s,".name")),disabled:g})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(x.J,{htmlFor:"submitters.".concat(s,".role"),children:"Role (Optional)"}),(0,a.jsx)(u.p,{id:"submitters.".concat(s,".role"),...X("submitters.".concat(s,".role")),disabled:g})]}),s>0&&(0,a.jsx)(d.$,{type:"button",variant:"destructive",size:"sm",onClick:()=>ea(s),children:"Remove Submitter"})]},e.id)),(0,a.jsx)(d.$,{type:"button",variant:"outline",onClick:()=>et({email:"",name:"",role:""}),children:"Add Submitter"}),(0,a.jsxs)(d.$,{type:"submit",disabled:g,children:[g&&(0,a.jsx)(L.A,{className:"mr-2 h-4 w-4 animate-spin"}),"Create"]})]})]})]})]})}),(0,a.jsx)(Z.Zp,{className:"mb-6",children:(0,a.jsx)(Z.Wu,{className:"pt-6",children:(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,a.jsxs)("div",{className:"relative flex-1",children:[(0,a.jsx)(T.A,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),(0,a.jsx)(u.p,{placeholder:"Search submissions...",value:H,onChange:e=>q(e.target.value),className:"pl-10"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(_.A,{className:"h-4 w-4 text-muted-foreground"}),(0,a.jsxs)(j,{value:M,onValueChange:W,children:[(0,a.jsx)(y,{className:"w-[180px]",children:(0,a.jsx)(N,{placeholder:"Filter by Status"})}),(0,a.jsxs)(k,{children:[(0,a.jsx)(A,{value:"ALL",children:"All Status"}),(0,a.jsx)(A,{value:"SENT",children:"Sent"}),(0,a.jsx)(A,{value:"OPENED",children:"Opened"}),(0,a.jsx)(A,{value:"COMPLETED",children:"Completed"}),(0,a.jsx)(A,{value:"DECLINED",children:"Declined"})]})]})]})]})})}),0===em.length?(0,a.jsx)(Z.Zp,{children:(0,a.jsxs)(Z.Wu,{className:"flex flex-col items-center justify-center py-12",children:[(0,a.jsx)(P.A,{className:"h-12 w-12 text-muted-foreground mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"No submissions found"}),(0,a.jsx)("p",{className:"text-muted-foreground text-center mb-4",children:0===t.length?"Get started by creating your first submission.":"Try adjusting your search or filter criteria."})]})}):(0,a.jsx)(Z.Zp,{children:(0,a.jsx)(Z.Wu,{className:"p-0",children:(0,a.jsxs)(o.XI,{children:[(0,a.jsx)(o.A0,{children:(0,a.jsxs)(o.Hj,{children:[(0,a.jsx)(o.nd,{className:"w-[30%]",children:"Template"}),(0,a.jsx)(o.nd,{className:"w-[15%]",children:"Status"}),(0,a.jsx)(o.nd,{className:"w-[25%]",children:"Recipient"}),(0,a.jsx)(o.nd,{className:"w-[15%]",children:"Created"}),(0,a.jsx)(o.nd,{className:"w-[15%] text-right",children:"Actions"})]})}),(0,a.jsx)(o.BF,{children:em.map(e=>{var s,t,r,l;return(0,a.jsxs)(o.Hj,{className:"hover:bg-muted/50",children:[(0,a.jsx)(o.nA,{children:(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-green-50 dark:bg-green-950/50",children:(0,a.jsx)(P.A,{className:"h-4 w-4 text-green-600 dark:text-green-400"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium",children:e.template.name}),(0,a.jsxs)("div",{className:"text-sm text-muted-foreground",children:["ID: ",e.id]})]})]})}),(0,a.jsx)(o.nA,{children:(0,a.jsx)(V.E,{className:ec(e.status),children:e.status})}),(0,a.jsx)(o.nA,{children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"flex h-6 w-6 items-center justify-center rounded-full bg-muted",children:(0,a.jsx)(O.A,{className:"h-3 w-3"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm font-medium",children:e.submitters.map(e=>e.name||"No Name").join(", ")}),(0,a.jsx)("div",{className:"text-xs text-muted-foreground",children:e.submitters.map(e=>e.email).join(", ")})]})]})}),(0,a.jsx)(o.nA,{className:"text-muted-foreground",children:(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,a.jsx)(U.A,{className:"h-3 w-3"}),(0,a.jsx)("span",{className:"text-sm",children:new Date(e.created_at).toLocaleDateString("en-US",{month:"short",day:"numeric"})})]})}),(0,a.jsx)(o.nA,{children:(0,a.jsxs)("div",{className:"flex items-center justify-end space-x-1",children:[(null===(s=e.submitters[0])||void 0===s?void 0:s.embed_src)&&(0,a.jsxs)(d.$,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:()=>{navigator.clipboard.writeText(e.submitters[0].embed_src||""),C.oR.success("Signing link copied to clipboard!")},children:[(0,a.jsx)(F.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Copy signing link"})]}),"completed"===e.status&&(null===(r=e.documents)||void 0===r?void 0:null===(t=r[0])||void 0===t?void 0:t.url)&&(0,a.jsx)(i(),{href:e.documents[0].url,target:"_blank",rel:"noopener noreferrer",children:(0,a.jsxs)(d.$,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:[(0,a.jsx)(J.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Download document"})]})}),(null===(l=e.submitters[0])||void 0===l?void 0:l.embed_src)&&(0,a.jsx)(i(),{href:"/submissions/".concat(e.id,"/sign"),target:"_blank",rel:"noopener noreferrer",children:(0,a.jsxs)(d.$,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:[(0,a.jsx)($.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"View signing form"})]})}),e.submitters[0]&&(0,a.jsx)(d.$,{variant:"ghost",size:"icon",className:"mr-2",onClick:()=>eo(e.submitters[0].id),children:(0,a.jsx)(P.A,{className:"h-4 w-4"})}),(0,a.jsxs)(m.Lt,{children:[(0,a.jsx)(m.tv,{asChild:!0,children:(0,a.jsxs)(d.$,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-red-600 hover:text-red-700 hover:bg-red-50 dark:text-red-400 dark:hover:bg-red-950/50",children:[(0,a.jsx)(I.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Delete submission"})]})}),(0,a.jsxs)(m.EO,{children:[(0,a.jsxs)(m.wd,{children:[(0,a.jsx)(m.r7,{children:"Are you absolutely sure?"}),(0,a.jsx)(m.$v,{children:"This action cannot be undone. This will permanently delete your submission and remove all associated data from our servers."})]}),(0,a.jsxs)(m.ck,{children:[(0,a.jsx)(m.Zr,{children:"Cancel"}),(0,a.jsx)(m.Rx,{onClick:()=>en(e.id),className:"bg-red-600 hover:bg-red-700 text-white",children:"Delete"})]})]})]})]})})]},e.id)})})]})})})]})]})}},8068:(e,s,t)=>{Promise.resolve().then(t.bind(t,7182))}},e=>{var s=s=>e(e.s=s);e.O(0,[455,671,874,12,890,781,675,721,211,441,684,358],()=>s(8068)),_N_E=e.O()}]);